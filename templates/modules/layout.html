<!DOCTYPE html>
<html xmlns:th="https://www.thymeleaf.org" lang="en" th:fragment="html (title,content,layout,breadcrumb)">

<!--引入modules/head文件中的head模块，做成页面的head-->
<th:block th:replace="~{modules/head :: head(${title})}"/>

<!--页面的body-->
<body>
<!--引入modules/sidebar文件中的sidebar模块，做成左侧遍栏内容-->
<th:block th:replace="~{modules/sidebar :: sidebar()}"/>

<!--做成主画面-->
<div id="main-wrapper" class="d-flex justify-content-center">

  <div class="container d-flex flex-column px-xxl-5">
    <!-- 做成顶部导航及搜索模块 -->
    <th:block th:switch="${layout}">
      <th:block th:case="default">
        <th:block
          th:replace="~{modules/topbar :: topbar(${breadcrumb}, ${site.title})}"
        />
      </th:block>
      <!--  左侧导航设置 菜单 常规 类型--标签    -->
      <th:block th:case="tag">
        <th:block
          th:replace="~{modules/topbar :: topbar(${breadcrumb}, 标签)}"
        />
      </th:block>
      <th:block th:case="tags">
        <th:block
          th:replace="~{modules/topbar :: topbar(${breadcrumb}, 标签)}"
        />
      </th:block>
      <th:block th:case="category">
        <th:block
          th:replace="~{modules/topbar :: topbar(${breadcrumb}, 分类)}"
        />
      </th:block>
      <!--  左侧导航设置 菜单 常规 类型--分类    -->
      <th:block th:case="categories">
        <th:block
          th:replace="~{modules/topbar :: topbar(${breadcrumb}, 分类)}"
        />
      </th:block>
      <th:block th:case="archives">
        <th:block
          th:replace="~{modules/topbar :: topbar(${breadcrumb}, 归档)}"
        />
      </th:block>
      <!--   左侧导航设置 菜单 常规 类型--文章   -->
      <th:block th:case="post">
        <th:block
          th:replace="~{modules/topbar :: topbar(${breadcrumb}, 文章)}"
        />
      </th:block>
<!--   TODO layout==photo 的情况   -->

      <th:block th:case="*">
        <th:block
          th:replace="~{modules/topbar :: topbar(${breadcrumb}, ' ')}"
        />
      </th:block>
    </th:block>

    <!--  做成中间和右侧页面内容  -->
    <div class="row flex-grow-1">
      <!--   做成中部内容展示区   -->
      <main
        aria-label="Main Content"
        class="col-12 col-lg-11 col-xl-9 px-md-4 pb-5"
        th:switch="${layout}"
      >
        <th:block th:case="Default">
          <th:block th:replace="${content}"/>
        </th:block>
        <th:block th:case="Page">
          <th:block th:replace="${content}"/>
        </th:block>
        <th:block th:case="*">
          <article class="px-1">
            <th:block th:replace="${content}"/>
          </article>
        </th:block>
      </main>

      <!-- panel -->
      <!--   做成右侧内容   -->
      <aside
        aria-label="Panel"
        id="panel-wrapper"
        class="col-xl-3 ps-2 text-muted"
      >
        <th:block th:replace="~{modules/panel :: panel(${layout})}"/>
      </aside>
    </div>
    <!--  做成底部内容  -->
    <div class="row">
      <!-- tail -->
      <div id="tail-wrapper" class="col-12 col-lg-11 col-xl-9 px-md-4">
        <th:block th:replace="~{modules/footer :: footer()}"/>
      </div>
    </div>
  </div>

  <!-- 做成回到顶部按钮 -->
  <aside aria-label="Scroll to Top">
    <button
      id="back-to-top"
      type="button"
      class="btn btn-lg btn-box-shadow"
    >
      <i class="fas fa-angle-up"></i>
    </button>
  </aside>
</div>
<div id="mask"></div>
</body>
</html>
